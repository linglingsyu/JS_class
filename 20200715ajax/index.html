<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="jquery-3.5.1.min.js"></script>
</head>
<body>
  <table width="100%">
    <thead>
      <tr>
        <td>編號</td>
        <td>動物名</td>
        <td>重量</td>
        <td>簡介</td>
        <td>更新日期</td>
        <td>操作</td>
      </tr>
      <tr>
        <td colspan="6"><hr></td>
      </tr>
    </thead>
    
    <tbody>
     
    </tbody>
    <tfoot>
      <tr>
        <td colspan="6" style="text-align: center;">
          <button>新增</button>
          <button onclick="loading()">加載10筆</button>
        </td>
      </tr>
    </tfoot>
  </table>

  <script>
    // $.post("api位置",{物件資料},成功callback,)

    let start = 0;
    function loading() { 
      $.post("api.php?do=select",{start},function(result){
        if(result != "fail"){
          $("tbody").append(result); //DOM生成
          $(".mdy").click(chginput);  //指定DOM的event 
          start+=10;
        }else{
          alert("已無資料傾倒");
        }
      });
    }
    loading();

    function chginput(){
      let item = $(this).parent().siblings(); // 找到不含自己的其他td資料 
      // console.log(item);
      item.parent().html(`
            <td><input type="hidden" name="id" value="${item.eq(0).text()}">${item.eq(0).text()}</td>
            <td><input value="${item.eq(1).text()}" name="name"></td>
            <td><input value="${item.eq(2).text()}" name="weight"></td>
            <td><input value="${item.eq(3).text()}" name="info"></td>
            <td>2020-10-07  08:52:06</td>
            <td><button onclick="chgtxt">儲存</button></td>
  
      `);
    }

    function chgtxt(){
      
    }





  </script>

</body>
</html>